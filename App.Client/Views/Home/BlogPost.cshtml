@model BlogPostViewModel

<section class="hero-wrap js-fullheight" style="background-image: url('images/bg_1.jpg');" data-stellar-background-ratio="0.5">
    <div class="overlay"></div>
    <div class="container">
        <div class="row no-gutters slider-text js-fullheight align-items-end justify-content-center">
            <div class="col-md-12 ftco-animate pb-5 mb-3 text-center">
                <h1 class="mb-3 bread">Blog Single Post</h1>
                <p class="breadcrumbs"><span class="mr-2"><a asp-action="Index">Home <i class="ion-ios-arrow-forward"></i></a></span>
            </div>
        </div>
    </div>
</section>

<section class="ftco-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 ftco-animate">
                <h2 class="mb-3">@Model.Title</h2>
                <p>
                    <img src="@Model.ImageUrl" alt="" class="img-fluid">
                </p>
                <p>@Model.Content</p>
                <h2 class="mb-3 mt-5">#2. Creative WordPress Themes</h2>
                <p>Temporibus ad error suscipit exercitationem hic molestiae totam obcaecati rerum, eius aut, in. Exercitationem atque quidem tempora maiores ex architecto voluptatum aut officia doloremque. Error dolore voluptas, omnis molestias odio dignissimos culpa ex earum nisi consequatur quos odit quasi repellat qui officiis reiciendis incidunt hic non? Debitis commodi aut, adipisci.</p>
                
                <div class="pt-5 mt-5">
                    <h3 class="mb-5">@(Model.Comments.Count) Comments</h3>
                    <ul class="comment-list">
                        @foreach (var comment in Model.Comments)
                        {
                            <li class="comment">
                                <div class="vcard bio">
                                    <img src="images/person_1.jpg" alt="Image placeholder">
                                </div>
                                <div class="comment-body">
                                    <h3>@comment.Author</h3>
                                    <div class="meta">@comment.CreatedAt.ToString("dd,MM,yyyy")</div>
                                    <p>@comment.Content</p>
                                </div>
                            </li>
                        }
                    </ul>

                    <!-- END comment-list -->

                    <div class="comment-form-wrap pt-5">
                        <h3 class="mb-5">Leave a comment</h3>
                        <form asp-action="SubmitComment" asp-controller="Blog" method="post" class="p-5 bg-dark">
                            <input type="hidden" name="PostId" value="@Model.Id" />
                            <div class="form-group">
                                <label for="message">Message</label>
                                <textarea id="message" name="Content" cols="30" rows="10" class="form-control" required></textarea>
                            </div>
                            <div class="form-group">
                                <input type="submit" value="Post Comment" class="btn py-3 px-4 btn-primary">
                            </div>
                        </form>
                    </div>
                </div>
            </div> <!-- .col-md-8 -->
            <div class="col-lg-4 sidebar ftco-animate">
                <div class="sidebar-box ftco-animate">
                    <h3 class="heading-sidebar">Recent Blog</h3>
                    @if (Model.RecentBlogs != null)
                    {
                        @foreach (var blog in Model.RecentBlogs)
                        {
                            <div class="block-21 mb-4 d-flex">
                                <a class="blog-img mr-4" style="background-image: url(@blog.ImageUrl);"></a>
                                <div class="text">
                                    <h3 class="heading"><a href="@Url.Action("BlogPost", new { postId = blog.Id })">@blog.Title</a></h3>
                                    <div class="meta">
                                        <div><a href="#"><span class="icon-calendar"></span> @blog.CreatedAt.ToString("dd,MM,yyyy")</a></div>
                                        <div><a href="#"><span class="icon-person"></span> Admin</a></div>
                                        <div><a href="#"><span class="icon-chat"></span> @(blog.Comments?.Count ?? 0)</a></div>
                                    </div>
                                </div>
                            </div>
                        }
                    }
                    else
                    {
                        <p>No recent blogs available.</p>
                    }
                    
                </div>
            </div>
        </div>
    </div>
</section> <!-- .section -->
